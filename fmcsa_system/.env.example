# FMCSA Database Management System - Environment Configuration
# Copy this file to .env and fill in your values

# Database Configuration
DATABASE_URL=postgresql://user:password@localhost:5432/fmcsa_db
# Or use individual components:
DB_HOST=localhost
DB_PORT=5432
DB_NAME=fmcsa_db
DB_USER=postgres
DB_PASSWORD=your_password_here

# FMCSA API Configuration
# Get your free app token at: https://data.transportation.gov/profile/edit/developer_settings
SODA_APP_TOKEN=your_socrata_app_token_here

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false  # Set to true for development

# CORS Settings (for React dashboard)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_ALLOW_CREDENTIALS=true

# Redis Configuration (optional - for caching)
REDIS_URL=redis://localhost:6379/0
CACHE_TTL=3600  # Cache TTL in seconds

# Scheduling Configuration
ENABLE_SCHEDULER=true
REFRESH_SCHEDULE_HOUR=2  # Hour to run daily refresh (24-hour format)
REFRESH_SCHEDULE_MINUTE=0

# Export Configuration
EXPORT_MAX_ROWS_CSV=1000000  # Maximum rows for CSV export
EXPORT_MAX_ROWS_EXCEL=1048576  # Excel row limit
EXPORT_CHUNK_SIZE=50000  # Chunk size for processing
EXPORT_TEMP_DIR=/tmp/fmcsa_exports

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json  # json or text
LOG_FILE=logs/fmcsa_system.log

# Security Configuration (for production)
SECRET_KEY=your-secret-key-here-change-in-production
API_KEY_HEADER=X-API-Key  # Optional API key authentication
ENABLE_API_KEY=false

# Dashboard Configuration
REACT_APP_API_URL=http://localhost:8000
REACT_APP_ENVIRONMENT=development

# Performance Configuration
CONNECTION_POOL_MIN=5
CONNECTION_POOL_MAX=20
CONNECTION_POOL_TIMEOUT=300
QUERY_TIMEOUT=60

# Feature Flags
ENABLE_LEAD_SCORING=true
ENABLE_STATISTICS_CACHE=true
ENABLE_EXPORT_QUEUE=false  # Use background queue for exports

# Monitoring (optional)
ENABLE_METRICS=false
METRICS_PORT=9090
SENTRY_DSN=  # Optional Sentry error tracking